# 技术文档查看功能

## 功能说明

在个人主页的实习经历部分添加了"查看技术文档"按钮，用户可以通过该按钮查看相关的技术文档。

## 功能特性

### 1. 文档查看器 (`docs-viewer.html`)
- **左侧固定边栏设计**：目录位于页面左侧，固定占用320px宽度
- **滚动支持**：当文档过多时支持侧边栏内部滚动，自定义滚动条样式
- **响应式设计**：支持桌面端和移动端，移动端侧边栏可收起
- **Markdown渲染**：使用 `marked.js v4.3.0` 稳定版本渲染Markdown文档
- **代码高亮**：使用 `Prism.js` 进行语法高亮
- **设计一致性**：与主网站设计风格保持一致
- **错误处理增强**：详细的错误信息和重新加载按钮
- **返回主界面功能**：
  - 右上角固定返回主页按钮
  - 点击文档外侧遮罩层返回主页
  - 支持ESC键快捷返回

### 2. 侧边栏特性
- **固定宽度**：左侧边栏固定320px宽度，确保布局稳定
- **垂直滚动**：内容超出时支持垂直滚动，自定义滚动条样式
- **丰富内容**：
  - 技术文档列表，带图标和简介
  - 其他资源链接（GitHub、项目经历等）
  - 分组显示，层次清晰
- **移动端适配**：
  - 移动端隐藏侧边栏，通过汉堡菜单按钮打开
  - 支持遮罩层点击关闭
  - 平滑的动画过渡效果

### 3. 支持的文档
- **MCP PyMilvus代码生成器**: 基于RAG框架的代码生成工具
- **Deep Searcher**: 深度搜索引擎功能
- **MCP Server Milvus**: Milvus查询功能的MCP服务

### 4. 访问方式
1. 在主页实习经历部分点击"查看技术文档"按钮
2. 直接访问 `docs-viewer.html` 页面
3. 通过URL参数直接打开特定文档：`docs-viewer.html?doc=mcp-pymilvus-code-generate-helper`

### 5. 返回主界面的方式
1. 点击右上角"返回主页"按钮
2. 点击文档内容区域外的灰色遮罩层
3. 按ESC键快捷返回（移动端优先关闭侧边栏）
4. 点击导航栏中的"返回主页"链接

## 技术实现

### 前端技术栈
- **Tailwind CSS**: 样式框架
- **Font Awesome**: 图标库
- **marked.js v4.3.0**: Markdown解析和渲染（稳定版本）
- **Prism.js**: 代码语法高亮

### 文件结构
```
├── docs-viewer.html          # 文档查看器页面（左侧边栏布局）
├── docs/                     # 技术文档目录
│   ├── mcp-pymilvus-code-generate-helper.md
│   ├── deep-searcher.md
│   └── mcp-server-milvus.md
└── index.html               # 主页（已添加按钮）
```

### 核心功能
1. **异步文档加载**: 使用 `fetch API` 异步加载Markdown文件
2. **稳定的Markdown渲染**: 使用marked.js v4.3.0稳定版本API
3. **代码高亮**: 使用 `Prism.js` 自动高亮代码块，支持延迟执行
4. **错误处理**: 文档加载失败时显示详细错误信息和多个恢复选项
5. **导航状态管理**: 侧边栏支持活跃状态显示
6. **用户体验优化**: 多种返回主界面的方式
7. **响应式布局**: 桌面端固定侧边栏，移动端可收起侧边栏
8. **调试支持**: 添加了详细的控制台日志输出

### 布局设计
- **桌面端 (≥768px)**:
  - 左侧固定边栏：320px宽度
  - 主内容区：剩余空间，自适应宽度
  - 垂直滚动：仅侧边栏内容可滚动
  
- **移动端 (<768px)**:
  - 侧边栏默认隐藏在屏幕左侧
  - 通过汉堡菜单按钮呼出
  - 带遮罩层，点击关闭
  - 平滑的滑入滑出动画

## 最近更新 (v3.0)

### 🎨 布局重新设计
- **左侧固定边栏**:
  - 从横版导航栏改为左侧固定边栏布局
  - 固定320px宽度，确保内容显示完整
  - 支持垂直滚动，自定义滚动条样式
  - 内容分组显示，包含技术文档和其他资源

### ✨ 新增功能
- **侧边栏滚动**:
  - 内容超出时支持垂直滚动
  - 自定义滚动条样式，美观且不占用过多空间
  - 平滑的滚动体验
  
- **移动端侧边栏**:
  - 移动端侧边栏隐藏，通过汉堡菜单打开
  - 支持遮罩层点击关闭
  - 平滑的滑入滑出动画效果
  - ESC键优先关闭侧边栏

### 🛠️ 技术改进
- **响应式布局优化**: 桌面端和移动端采用不同的布局策略
- **性能优化**: 减少不必要的DOM操作和重绘
- **用户体验提升**: 更直观的目录结构和操作方式

## 使用方法

### 本地开发
```bash
# 启动本地服务器
python3 -m http.server 8000

# 访问主页
open http://localhost:8000/index.html

# 直接访问文档查看器
open http://localhost:8000/docs-viewer.html
```

### 部署要求
- 需要HTTP服务器支持（不能直接用 `file://` 协议访问）
- 确保 `docs/` 文件夹中的 `.md` 文件可以被访问
- 支持现代浏览器（ES6+）
- 需要网络连接以加载CDN资源

## 移动端优化

- **侧边栏管理**: 移动端侧边栏隐藏，按需显示，节省屏幕空间
- **触摸友好**: 按钮大小和间距适合触摸操作
- **响应式布局**: 文档内容在各种屏幕尺寸下都能良好显示
- **返回按钮**: 固定位置的返回按钮在移动端易于访问
- **平滑动画**: 侧边栏的显示隐藏使用平滑过渡动画

## 故障排除

### 常见问题
1. **文档显示HTML源码**
   - 确认marked.js库正确加载（v4.3.0）
   - 检查浏览器控制台错误信息
   - 刷新页面重新加载依赖库
   - 使用重新加载按钮重试

2. **文档加载失败**
   - 检查网络连接
   - 确认HTTP服务器正在运行
   - 查看浏览器控制台错误信息
   - 使用重新加载按钮重试

3. **代码高亮不工作**
   - 确认Prism.js库正确加载
   - 检查网络连接到CDN
   - 代码块可能需要稍等片刻进行高亮

4. **无法返回主界面**
   - 尝试点击右上角返回按钮
   - 点击文档外侧灰色区域
   - 按ESC键（移动端优先关闭侧边栏）
   - 刷新页面

5. **移动端侧边栏问题**
   - 点击汉堡菜单按钮打开侧边栏
   - 点击遮罩层或按ESC键关闭
   - 确保屏幕宽度检测正常工作

### 调试技巧
- 打开浏览器开发者工具查看控制台日志
- 检查网络面板确认资源正确加载
- 使用重新加载功能重试操作
- 检查响应式布局在不同屏幕尺寸下的表现

## 扩展功能

### 添加新的技术文档

1. 将 `.md` 文件放入 `docs/` 文件夹
2. 在 `docs-viewer.html` 的侧边栏导航中添加对应按钮
3. 调用 `loadDoc('文档名')` 函数加载新文档

示例：
```html
<button onclick="loadDoc('new-doc')" 
        class="nav-item w-full text-left p-4 rounded-lg text-gray-700 transition-colors">
    <div class="flex items-start">
        <i class="fa-solid fa-file mr-3 mt-1 text-primary"></i>
        <div>
            <div class="font-medium">新技术文档</div>
            <div class="text-sm text-gray-500 mt-1">文档简要描述</div>
        </div>
    </div>
</button>
```

### 自定义滚动条样式

如需修改滚动条样式，可以调整CSS中的以下部分：
```css
.sidebar::-webkit-scrollbar {
    width: 6px; /* 滚动条宽度 */
}

.sidebar::-webkit-scrollbar-thumb {
    background: #cbd5e0; /* 滚动条颜色 */
    border-radius: 3px;
}
```

## 版本历史

- **v3.0** (当前): 左侧固定边栏布局 + 滚动支持 + 移动端优化
- **v2.1**: 修复HTML源码显示问题 + 添加返回主界面功能
- **v2.0**: 横版导航栏 + Bug修复
- **v1.0**: 初始版本，侧边栏导航 